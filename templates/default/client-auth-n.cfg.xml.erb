<?xml version="1.0" encoding="UTF-8"?>

<client-auth xmlns="http://docs.rackspacecloud.com/repose/client-auth/v1.0">

    <!-- Automatically generated by Chef, do not modify -->

    <% if @auth_provider == 'RACKSPACE' %>

    <rackspace-auth delegable="false" request-groups="false" xmlns="http://docs.rackspacecloud.com/repose/client-auth/rs-auth-1.1/v1.0">
        <authentication-server username="<%= @username %>" password="<%= @password %>" uri="<%= @auth_uri %>" />

        <% if @mapping_regex %>
        <account-mapping id-regex="<%= @mapping_regex %>" type="<%= @mapping_type %>"/>
        <% end %>

    </rackspace-auth>

    <% else %>

    <openstack-auth delegable="false" tenanted="true" request-groups="true" token-cache-timeout="600000" group-cache-timeout="600000" xmlns="http://docs.openrepose.org/repose/client-auth/os-ids-auth/v1.0">
        <identity-service username="<%= @username %>" password="<%= @password %>" tenantId="<%= @tenant_id %>" uri="<%= @auth_uri %>" />

        <% if @mapping_regex %>
        <client-mapping id-regex="<%= @mapping_regex %>"/>
        <% end %>

        <endpoints-in-header format="XML" cache-timeout="600000" identity-contract-version="2"/>
    </openstack-auth>

    <% end %>


</client-auth>
